{"version":3,"sources":["app.js"],"names":[],"mappings":"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","file":"app.js","sourcesContent":["var express = require('express');\nvar path = require('path');\nvar favicon = require('serve-favicon');\nvar logger = require('morgan');\nvar cookieParser = require('cookie-parser');\nvar bodyParser = require('body-parser');\n\nvar routes = require('./routes/index');\nvar users = require('./routes/users');\nvar display = require('./routes/display')\nvar chart = require('./routes/chart')\n\nvar app = express();\n\n// view engine setup\napp.set('views', path.join(__dirname, 'views'));\napp.set('view engine', 'ejs');\n\n// uncomment after placing your favicon in /public\n//app.use(favicon(path.join(__dirname, 'public', 'favicon.ico')));\napp.use(logger('dev'));\napp.use(bodyParser.json());\napp.use(bodyParser.urlencoded({ extended: false }));\napp.use(cookieParser());\napp.use('/img',express.static(path.join(__dirname, 'public/img')));\napp.use('/js',express.static(path.join(__dirname, 'public/js')));\napp.use('/css',express.static(path.join(__dirname, 'public/css')));\napp.use('/uploads',express.static(path.join(__dirname, 'uploads')));\napp.use('/fonts',express.static(path.join(__dirname, 'public/css/fonts')));\n\n// app.use(require('connect-livereload')({\n//   port: 35729\n// }));\n//liveReload setting\n\napp.use('/', routes);\napp.use('/users', users);\napp.use('/display', display);\napp.use('/chart', chart);\n\n// catch 404 and forward to error handler\napp.use(function(req, res, next) {\n  var err = new Error('Not Found');\n  err.status = 404;\n  next(err);\n});\n\n// error handlers\n\n// development error handler\n// will print stacktrace\nif (app.get('env') === 'development') {\n  app.use(function(err, req, res, next) {\n    res.status(err.status || 500);\n    res.render('error', {\n      message: err.message,\n      error: err\n    });\n  });\n}\n\n// production error handler\n// no stacktraces leaked to user\napp.use(function(err, req, res, next) {\n  res.status(err.status || 500);\n  res.render('error', {\n    message: err.message,\n    error: {}\n  });\n});\n\n/**\n * Module dependencies.\n */\n\nvar debug = require('debug')('displayB2link:server');\nvar http = require('http');\n\n/**\n * Get port from environment and store in Express.\n */\n\nvar port = normalizePort(process.env.PORT || '3000');\napp.set('port', port);\nvar server = http.createServer(app);\n\n\nserver.listen(port);\nserver.on('error', onError);\nserver.on('listening', onListening);\n\nvar io = require('socket.io').listen(server);\nio.sockets.on('connection',function(socket){\n    // socket.emit('toclient',{msg:'Welcome !'});\n    socket.on('fromclient',function(data){\n        socket.broadcast.emit('toclient',data); // 자신을 제외하고 다른 클라이언트에게 보냄\n        //socket.emit('toclient',data); // 해당 클라이언트에게만 보냄. 다른 클라이언트에 보낼려면?\n        console.log('Message from client :'+data.msg);\n    })\n});\n\nfunction normalizePort(val) {\n    var port = parseInt(val, 10);\n\n    if (isNaN(port)) {\n        // named pipe\n        return val;\n    }\n\n    if (port >= 0) {\n        // port number\n        return port;\n    }\n\n    return false;\n}\n\n/**\n * Event listener for HTTP server \"error\" event.\n */\n\nfunction onError(error) {\n    if (error.syscall !== 'listen') {\n        throw error;\n    }\n\n    var bind = typeof port === 'string'\n        ? 'Pipe ' + port\n        : 'Port ' + port;\n\n    // handle specific listen errors with friendly messages\n    switch (error.code) {\n        case 'EACCES':\n            console.error(bind + ' requires elevated privileges');\n            process.exit(1);\n            break;\n        case 'EADDRINUSE':\n            console.error(bind + ' is already in use');\n            process.exit(1);\n            break;\n        default:\n            throw error;\n    }\n}\n\n/**\n * Event listener for HTTP server \"listening\" event.\n */\n\nfunction onListening() {\n    var addr = server.address();\n    var bind = typeof addr === 'string'\n        ? 'pipe ' + addr\n        : 'port ' + addr.port;\n    debug('Listening on ' + bind);\n}\n\n\nmodule.exports = app;\n"],"sourceRoot":"./"}